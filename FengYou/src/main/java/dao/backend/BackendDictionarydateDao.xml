<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="dao.backend.BackendDictionarydateDao">

	<!--通过分类查询 -->
	<select id="queryDictionarydateByTypeCode" resultType="Dictionarydate">
		SELECT * from `dictionarydate` where TypeCode=#{TypeCode}
	</select>

	<!-- 查询所有字典表 -->
	<select id="queryDictionarydate" resultType="Dictionarydate">
		SELECT * from `dictionarydate`
	</select>

	<!-- 查询字典表分类 -->
	<select id="queryDictionarydateSfl" resultType="Dictionarydate">
		select *, count(distinct typeCode) from dictionarydate group by
		typeCode
	</select>

	<!-- 条件查询 -->
	<select id="queryDictionarydateByCody" resultType="Dictionarydate">
		select * from dictionarydate
		<where>
			<if test="typeCode !='kon'">
				and typeCode=#{typeCode}
			</if>
			<if test="info !='' ">
				and info=#{info}
			</if>
		</where>
	</select>

	<!-- 删除字典 -->
	<delete id="deleteByid" parameterType="Dictionarydate">
		delete from dictionarydate where id=#{id}
	</delete>

	<!-- 新增字典 -->
	<insert id="add" parameterType="Dictionarydate">
		INSERT INTO `dictionarydate` (`typeCode`, `dictCode`, `info`, `typeName`)
		VALUES (#{typeCode}, #{dictCode},#{info},#{typeName})
	</insert>

	<!-- 根据typeCode查出星级 -->
	<select id="getTypeCode" resultType="Dictionarydate">
		select * from dictionarydate where typeCode=#{typeCode}
	</select>

	<!-- 查询总记录数 -->
	<select id="getCount" resultType="Int">
		select count(*) from
		dictionarydate
		where CONCAT(IFNULL(`typeCode`,''),IFNULL(`info`,'')) LIKE '%${typeCode}%'
	</select>

	<!-- 根据Id查询字典表 -->
	<select id="getdicByid" resultType="Dictionarydate">
		select * from dictionarydate where id=#{id}
	</select>

	<!-- 根据id修改字典表 -->
	<update id="update" parameterType="Dictionarydate">
		update dictionarydate set
		typeCode=#{typeCode},dictCode=#{dictCode},info=#{info},typeName=#{typeName}
		where id=#{id}
	</update>

</mapper>